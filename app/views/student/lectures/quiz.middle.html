<div ng-repeat="(key,alert_message) in alert_messages" ng-show="alert_messages" class="alert">
	 <p ng-show='key=="due"'>{{"controller_msg.due_date_passed"|translate}} - {{alert_message[0]}}({{alert_message[1]}} {{ "controller_msg."+alert_message[2]| translate}}) {{"controller_msg.ago" | translate}}</p>
	 <p ng-show='key=="submit"'>{{"controller_msg.already_submitted" | translate}} {{quiz.quiz_type | translate}} {{'controller_msg.no_more_attempts' | translate}} </p>
	 <p ng-show='key=="today"'>{{"controller_msg.due"|translate}} {{"controller_msg.today"|translate}} {{"at"|translate}} <b>{{alert_message| date:'h:mma'}}</b></p>
</div>

<h4>{{quiz.name}}</h4>
<p>{{quiz.instructions}}</p>
<div ng-if="quiz.quiz_type=='quiz'">
	<p ng-if="status==null || status==''">
		<span translate="quizzes.attempt_number"></span>: 0/{{quiz.retries+1}}
	</p>
	<p ng-if="status!=null && status.attempts==quiz.retries+1">
		<span translate="quizzes.used_up_all"></span> {{quiz.retries+1}} <span translate="quizzes.attempts"></span>.
	</p>
	<p ng-if="status!=null && status.attempts<quiz.retries+1">
		<span translate="quizzes.attempt_number"></span>: {{status.attempts}}/{{quiz.retries+1}}
	</p>
</div>
<hr>
<center ng-show="!can_solve">
    <div style='color:#428bca; width: 100%;font-weight:300;font-size:12px' >
        <h2 style="position:relative;top:90px;font-weight:300;font-size:18px" ><span translate>lectures.finish_before_proceeding</span></h2>
    </div>  
</center>
<center ng-show="can_solve">
	<form name="form">
		<student-quiz quiz='quiz' student-answers="studentAnswers" submitted="submitted" correct="correct"></student-quiz>
		<input ng-disabled="status.status=='Submitted' || quiz.questions.length==0" type="button" class="btn btn-primary" value="{{ 'save' |translate}}" ng-click="saveQuiz('save')" />
		<input ng-disabled="(status.status=='Submitted' && status.attempts==quiz.retries+1) || quiz.questions.length==0" ng-if="quiz.quiz_type=='quiz'" type="button" class="btn btn-primary" value="{{ 'submit' |translate}}" ng-click="saveQuiz('submit')" />
        <input type="button" ng-show="next_item.id" value="{{'next'| translate}}" ng-click="go_to_next_item()" class="btn"/>
	</form>


    <div ng-repeat="element in ordered_survey">
        <div ng-show="survey_chart_data && survey_chart_data[element[0]].show" style="padding:10px 40px" >
            <div ng-if="element[1]!='Free Text Question'" class="chart" style='min-width:300px; height:205px;' ng-init="chart=createSurveyChart(survey_chart_data[element[0]].answers, $index)">
                <center ng-init="loading=true" style="position:relative;top:50%"><loading size="small" show="loading" /></center>
                <div google-chart on-ready="loading=false" chart="chart" ></div>
            </div>
        </div>
        <div ng-if="element[1]=='Free Text Question' && survey_free[element[0]].show" style="margin-top:60px">
            <free-text-table ng-if="survey_free[element[0]].answers" question="survey_free[element[0]]" related-answers="related_answers" display-only="true"/>
        </div>
    </div>

    <!-- <div ng-repeat="element in ordered_quiz">
        <div ng-show="quiz_chart_data && quiz_chart_data[element[0]].show" style="padding:10px 40px" >
            <div ng-if="element[1]!='Free Text Question'" class="chart" style='min-width:300px; height:205px;' ng-init="chart=createQuizChart(quiz_chart_data[element[0]].answers, $index)">
                <center ng-init="loading=true" style="position:relative;top:50%"><loading size="small" show="loading" /></center>
                <div google-chart on-ready="loading=false" chart="chart" ></div>
            </div>
        </div>
        <div ng-if="element[1]=='Free Text Question' && quiz_free[element[0]].show" style="margin-top:60px">
            <free-text-table ng-if="quiz_free[element[0]].answers" survey_id="quiz.id" question="quiz_free[element[0]]" related-answers="related_answers" display-only="true" graded="true"/>
        </div>
    </div> -->
</center>