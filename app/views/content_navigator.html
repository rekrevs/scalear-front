<div ng-switch="mode" class="content-navigator-container disable_selection" ng-class="{'containeropen small-12 medium-4 large-2 columns no-padding no-margin': open_navigator}" style="margin-top: -5px !important; position: fixed; z-index: 2 !important;">
	<center><loading size="small" show="!modules"></loading></center>
	<div bindonce>
		<span  ng-switch-when="courseware">
			<accordion class="accordion">
				<accordion-group class="accordion-group" is-open="false" ng-click="goToCourseInfoStudent()">
					<accordion-heading class="accordion-heading">
					<div id="course_info" style="padding: 5px;border-bottom: 1px solid white;" ng-class="{currentmodule: ('**.course_information.**' | includedByState)}">
						<div class="show-inline" translate>head.course_information</div>
					</div>		
					</accordion-heading>
				</accordion-group>
				<accordion-group class="accordion-group">
					<accordion-heading class="accordion-heading">
						<div style="padding: 5px;border-bottom: 1px solid white;">
							<div class="show-inline">{{'courses.course_links' | translate}}</div>
						</div>							
					</accordion-heading>
					<ul ng-repeat="link in links">
						<div  style="padding:0 4px;">
							<a class="with-margin-left" bo-href="link.url" target="_blank"  class="truncate-70 show-inline" bo-text="link.name"></a>
						</div>
					</ul>
				</accordion-group>
				<accordion-group class="accordion-group" ng-repeat="module in modules | orderBy: 'position'" is-open="{{currentmodule.id == module.id}}">
					<accordion-heading class="accordion-heading">
						<div bindonce class="valign-middle" ng-click="showModuleCourseware(module)" bo-title="module.name" ng-class="{currentmodule: currentmodule.id == module.id}" style="padding: 5px;border-bottom: 1px solid white;">
							<div class="row">
								<div class="small-8 columns">
									<div class="truncate" bo-text="module.name"></div>
								</div>
								<div class="small-2 columns">
									<div class="color-grey" bo-text="module.total_time | formatFormattedTime:'h:mm'"></div>
								</div>
								<div class="small-2 columns">
									<module-progress-check module="module"></module-progress-check>		
								</div>
							</div>
						</div>
						
					</accordion-heading>
					<ul ng-click="showItem(item, 'courseware')" bo-show="module.items" bo-title="item.name" ng-class="{currentitem: currentitem.id == item.id}" ng-repeat="item in module.items">
						<div class="row">
							<div class="small-2 columns">
							<i class="no-padding fi-check color-green" ng-show="item.is_done"></i>
							<i class="no-padding fi-check color-green" style="opacity: 0;" ng-hide="item.is_done"></i>
							</div>
							<div class="small-7 columns truncate-68" style="margin-left:-1.5rem;" bo-text="item.name">	
							</div>
							<div class="small-2 with-tiny-margin-right columns">
								<div class="color-grey" bo-text="item.duration | formattime:'h:mm'"></div>
							</div>
						</div>
					</ul>
					<ul bo-show="module.custom_links" ng-repeat="link in module.custom_links|orderBy: 'group_position'">
						<a class="with-margin-left dark-text" bo-href="link.url" target="_blank" bo-text="link.name"></a>
					</ul>
				</accordion-group>
			</accordion>
		</span>
		<span ng-switch-when="editor">
			<accordion class="accordion no-margin">
				<accordion-group class="accordion-group">
					<accordion-heading class="accordion-heading" >
					<div id="course_info" style="padding: 5px;border-bottom: 1px solid white;" ng-class="{currentmodule: ('**.edit_course_information.**' | includedByState)}" ng-click="goToCourseInfoTeacher()">
						<div class="show-inline"  translate>head.course_information</div>
					</div>						
					</accordion-heading>
				</accordion-group>
				<accordion-group class="accordion-group soft-border-bottom border-light-grey" open="links.length">
					<accordion-heading class="accordion-heading" >
						<div style="padding: 5px;border-bottom: 1px solid white;">
							<div class="show-inline" ng-class="{'with-bigger-margin-left': ('**.course_editor.**' | includedByState)}">{{'courses.course_links' | translate}}</div>
						</div>
					</accordion-heading>
					<span class="no-margin" ui-sortable="listSortableOptions" ng-model='links'>
	            		<li class="links"  ng-repeat="link in links">
	            			<link-item link="link" small="true">
	            		</li>
	            	</span>
				</accordion-group>
				<span ui-sortable="moduleSortableOptions" ng-model='modules'>
					<accordion-group ng-show="modules.length" class="module accordion-group" ng-repeat="module in modules" close="currentmodule.id != module.id" is-open="{{currentmodule.id == module.id}}">
						<accordion-heading class="accordion-heading">
							<module data="module" ng-class="{currentmodule: currentmodule.id == module.id}" ng-click="showModule(module)" >
							</module>
						</accordion-heading>
	          			<span class="items" ui-sortable="itemSortableOptions" ng-model='module.items'>
		            		<li class="last-child item looks-like-a-link" ng-repeat="item in module.items" ng-class="{currentitem: currentitem.id == item.id}">
	             				<item data="item" remove="$parent['remove'+capitalize(item.class_name)]($parent.$index, $index)" ng-click="showItem(item, 'course_editor')"></item>
		            		</li>
		            	</span>
					</accordion-group>
				</span>
			</accordion>
			<i ng-show="!modules.length" class="muted"><br /><span style="padding-left:10px" translate>groups.empty</span>...</i>
			
		</span>
		<br>
	</div>
	<br>
	<br>
</div>