<div ng-switch="mode" class="content-navigator-container disable_selection ease_in_out" ng-class="{'containeropen small-12 medium-4 large-2 columns no-padding no-margin': delayed_navigator_open, 'no-height': !delayed_navigator_open}" style="margin-top: -5px !important; position: fixed; z-index: 2 !important;">
	<center><loading size="small" show="!modules"></loading></center>
	<div bindonce>
		<span  ng-switch-when="courseware">
			<accordion class="accordion">
				<accordion-group class="accordion-group" is-open="false" ng-click="goToCourseInfoStudent()">
					<accordion-heading class="accordion-heading">
					<div id="course_info" style="padding: 5px;border-bottom: 1px solid white;" ng-class="{currentmodule: ('**.course_information.**' | includedByState)}">
						<div class="show-inline" translate>head.course_information</div>
					</div>		
					</accordion-heading>
				</accordion-group>
				<accordion-group class="accordion-group">
					<accordion-heading class="accordion-heading">
						<div style="padding: 5px;border-bottom: 1px solid white;">
							<div class="show-inline">{{'courses.course_links' | translate}}</div>
						</div>							
					</accordion-heading>
					<ul ng-repeat="link in links">
						<div  style="padding:0 4px;">
							<a class="with-margin-left" bo-href="link.url" target="_blank"  class="truncate-70 show-inline" bo-text="link.name"></a>
						</div>
					</ul>
				</accordion-group>
				<accordion-group class="accordion-group" ng-repeat="module in modules | orderBy: 'position'" is-open="{{currentmodule.id == module.id}}">
					<accordion-heading class="accordion-heading">
						<div bindonce class="valign-middle" ng-click="showModuleCourseware(module)" bo-title="module.name" ng-class="{currentmodule: currentmodule.id == module.id}" style="padding: 5px;border-bottom: 1px solid white;">
							<div class="row">
								<div class="small-1 no-padding columns no-padding-left" style="min-height: 1px;">
									<module-progress-check class="left" module="module"></module-progress-check>		
								</div>
								<div class="small-9 columns no-padding-left">
									<div class="truncate" bo-text="module.name"></div>
								</div>
								<div class="small-2 no-padding text-right columns">
									<small class="color-grey" bo-text="module.total_time | formattime:'h:mm'"></small>
								</div>
							</div>
						</div>
						
					</accordion-heading>
					<ul>
						<li class="disable_selection size-13 text-right last-child item looks-like-a-link" style="padding: 2px; min-height: 24px;" bo-show="module.items" bo-title="item.name" ng-class="{currentitem: currentitem.id == item.id}" ng-repeat="item in module.items" ng-click="showItem(item, 'courseware')">
							<div class="position-relative" style="height: 20px;">
								<i class="no-padding fi-check color-green left with-tiny-margin-right ease_in_out" ng-class="{'no-opacity':!item.is_done, 'blink_btn':item.is_done}" ></i>

								<i bo-if="item.class_name == 'lecture'" class="fi-video with-tiny-margin-right left color-gray" bo-title="'groups.lecture' | translate"></i>
								<i bo-if="item.class_name == 'quiz' && item.quiz_type == 'quiz'" class="fi-clipboard-notes with-tiny-margin-right left color-gray" bo-title="'courses.quiz' | translate"></i>
								<i bo-if="item.class_name == 'quiz' && item.quiz_type == 'survey'" class="fi-clipboard-pencil with-tiny-margin-right left color-gray" bo-title="'courses.survey' | translate"></i>

								<div class="truncate-70 show-inline valign-middle left text-left" bo-text="item.name"></div>
								<div class="color-dark-grey" bo-text="item.duration | formattime:'h:mm'"></div>
							</div>
						</li>
					</ul>
					<ul>
						<li bo-show="module.custom_links" ng-repeat="link in module.custom_links|orderBy: 'group_position'" class="disable_selection size-13 text-right last-child item looks-like-a-link" style="padding: 2px; min-height: 24px;">
							<div class="position-relative" style="height: 20px;">
								<i class="no-padding fi-check color-green left with-tiny-margin-right no-opacity"></i>
								<i class="fi-link with-tiny-margin-right left color-gray" bo-title="'groups.link' | translate"></i>
								<div class="truncate-70 show-inline valign-middle left text-left" bo-text="item.name">
									<a class="dark-text" bo-href="link.url" target="_blank" bo-text="link.name"></a>
								</div>
								
							</div>
						</li>
					</ul>

				</accordion-group>
			</accordion>
		</span>
		<span ng-switch-when="editor">
			<accordion class="accordion no-margin">
				<accordion-group class="accordion-group">
					<accordion-heading class="accordion-heading" >
					<div id="course_info" style="padding: 5px;border-bottom: 1px solid white;" ng-class="{currentmodule: ('**.edit_course_information.**' | includedByState)}" ng-click="goToCourseInfoTeacher()">
						<div class="show-inline" translate>head.course_information</div>
					</div>						
					</accordion-heading>
				</accordion-group>
				<accordion-group class="accordion-group soft-border-bottom border-light-grey" open="links.length">
					<accordion-heading class="accordion-heading" >
						<div style="padding: 5px;border-bottom: 1px solid white;">
							<div class="show-inline" ng-class="{'with-bigger-margin-left': ('**.course_editor.**' | includedByState)}">{{'courses.course_links' | translate}}</div>
						</div>
					</accordion-heading>
					<span class="no-margin" ui-sortable="listSortableOptions" ng-model='links'>
	            		<li class="links"  ng-repeat="link in links">
	            			<link-item link="link" small="true">
	            		</li>
	            	</span>
				</accordion-group>
				<span ui-sortable="moduleSortableOptions" ng-model='modules'>
					<accordion-group ng-show="modules.length" class="module accordion-group" ng-repeat="module in modules" close="currentmodule.id != module.id" is-open="{{currentmodule.id == module.id}}">
						<accordion-heading class="accordion-heading">
							<module data="module" ng-class="{currentmodule: currentmodule.id == module.id, selectedmodule: ('**.overview' | includedByState)&&  currentmodule.id == module.id}" ng-click="showModule(module)" >
							</module>
						</accordion-heading>
	          			<span class="items" ui-sortable="itemSortableOptions" ng-model='module.items'>
		            		<li class="last-child item looks-like-a-link" ng-repeat="item in module.items" ng-class="{currentitem: currentitem.id == item.id}">
	             				<item data="item" remove="$parent['remove'+capitalize(item.class_name)]($parent.$index, $index)" ng-click="showItem(item, 'course_editor')"></item>
		            		</li>
		            	</span>
					</accordion-group>
				</span>
			</accordion>
			<i ng-show="!modules.length" class="muted"><br /><span style="padding-left:10px" translate>groups.empty</span>...</i>
			
		</span>
		<br>
	</div>
	<br>
	<br>
</div>