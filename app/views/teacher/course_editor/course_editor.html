<!-- build:css(.tmp/styles) styles/course_editor.css -->
<link rel="stylesheet" href="styles/teacher/course_editor.css"/>
<link rel="stylesheet" href="styles/teacher/course_editor.details.css" type="text/css" media="screen" title="no title" charset="utf-8" />
<link rel="stylesheet" href="styles/teacher/course_editor.lecture.css" type="text/css" media="screen" />
<link rel="stylesheet" href="styles/controls.css" type="text/css" media="screen" />
<!-- endbuild -->

<style>
	.span3{
		background-color: white;
	}
</style>
<div class="span3" id="tree">
	<div class="menu-toggler" ng-click="toggleTree()" tooltip-placement="right" tooltip="{{'head.content' | translate}}" tooltip-append-to-body="true">
		<span class="tree-toggle-icon" style="margin-top: 6px; left: 8px; position: absolute;"></span>
	</div>
	<center><loading size="small" show="init_loading" ></loading></center>
	<overlay ng-show="module_overlay" style="height:80%">
		<loading size='small' show='true' style="position:absolute;top:40%;left:35%;z-index: 1;" ></loading>
	</overlay>
	<ul ui-sortable="moduleSortableOptions" ng-model='modules' id="acc1" class="accordion">
		<li ng-repeat="module in modules" class='module accordion-group' ng-init="module.open = false">
			<module name="module.name" id="module.id" remove="removeModule(event, $index)" open="open" ng-click="closeAll($index)" class="accordion-heading" ng-class="{moduleopen: currentmodule == module.id}" copy="copy(module)" paste="paste(module.id, $index)" share="openShareModal(module.id)"/>
			<div class="outer" collapse="!(module.open || module.id==open_id)">
				<overlay ng-show="item_overlay" style="height:100%">
					<loading size='small' show='true' style="position:absolute;top:40%;left:35%;z-index: 1;" />
				</overlay>
	        	<div class="inner" id="modules">
	        		<small><ul ng-show="module.items.length == 0"><li style="color: white; text-align: left; margin-left: 10px; opacity: 0.6;" >{{'groups.empty' | translate}}...</li></ul></small>
          			<ul class="items" ui-sortable="itemSortableOptions" ng-model='module.items'>
	            		<li class="last-child item" ng-repeat="item in module.items" ng-class="{inneritemopen: currentitem == item.id}" >
             				<item name="item.name" id="item.id" class_name="item.class_name" remove="$parent['remove'+capitalize(item.class_name)]($parent.$index, $index)" copy="copy(item)" paste="paste(module.id, $parent.$index)" share="openShareModal(item.id,item.class_name)" ></item>
	            		</li>
	            	</ul>
		            <center class="item-buttons">
		            	<hr style="width: 95%; margin: 0 auto; border-top: none !important; border-bottom: 1px solid darkgray !important; margin-bottom: 10px;" />
		            	<button ng-show="module.items.length" title="{{'Preview'|translate}}" ng-click="impersonate(module.id)" class="btn btn-success btn-mini" style="float: right; margin-right:10px; margin-bottom: 10px;" tooltip-placement="top" tooltip="Preview as student" tooltip-append-to-body="true">{{'Preview'|translate}}</button>
		            	<add-module-items index="$index" lecture="addLecture" quiz="addQuiz"></add-module-items>
		            	<!-- <button_link title="{{'courses.add_lecture'|translate}}" class="btn btn-mini btn-success adding" style="background-image: initial;" action="addLecture($index)" ></button_link>
		            	<button_link title="{{'lectures.add_quiz'|translate}}"   class="btn btn-mini btn-success adding" style="background-image: initial;" action="addQuiz($index, 'quiz')"></button_link>
		            	<button_link title="{{'courses.add_survey'|translate}}"  class="btn btn-mini btn-success adding" style="background-image: initial;" action="addQuiz($index, 'survey')"></button_link> -->
	                </center>
	                <br />
	        	</div>
	    	</div>
		</li>
	</ul>
	<button ng-show="!module_loading" ng-click="addModule();" class="btn btn-success adding_module" style="float:right;margin-bottom:20px;margin-top:20px;margin-right:10px;">
	+ {{'courses.add_module'|translate}}
	</button >
	<!-- <button_link title="{{'Preview'|translate}}" action="impersonate()" class="preview" style="float:right;margin-bottom:20px;margin-top:20px;margin-right:10px; background-image: initial;"></button_link> -->
	<hr />
</div>
	<div id="middle"  ui-view="middle">
		<img class="empty-middle"src="images/select-module-continue.png" width="250" />
	</div>
<span ng-show="not_module">
	<span class="span3" id="details" ui-view="details"></span>
	<span class="span3" id="details-resp" ng-class="{displayed: details_toggled}">
		<div class="details-toggler" ng-class="{putright: details_toggled}" ng-click="toggleDetails()" tooltip-placement="left" tooltip="{{'lectures.details' | translate}}" tooltip-append-to-body="true">
			<span class="details-toggle-icon" style="margin-top: 6px; left: 8px; position: absolute;"></span>
		</div>
		<div id="details-resp-inner" ng-show="details_toggled" ui-view="details"></div>
	</span>
</span>