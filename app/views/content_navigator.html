<div bindonce ng-switch="mode" class="content-navigator-container disable_selection ease_in_out" ng-class="{'content-containeropen small-12 medium-4 large-2 columns no-padding no-margin': open_navigator}">	
	<div ng-switch-when="courseware">
		<accordion class="accordion">
			<accordion-group class="accordion-group" is-open="false" ng-click="goToCourseInfoStudent()">
				<accordion-heading class="accordion-heading">
				<div id="course_info" style="padding: 5px;border-bottom: 1px solid white;" ng-class="{currentmodule: ('**.course_information.**' | includedByState)}">
					<div class="show-inline" translate>head.course_information</div>
				</div>		
				</accordion-heading>
			</accordion-group>
			<!-- <accordion-group ng-show="links" class="accordion-group links_accordion">
				<accordion-heading class="accordion-heading">
					<div ng-click="showCourseLinks()" style="padding: 5px;border-bottom: 1px solid white;">
						<div class="show-inline" translate>courses.course_links</div>
					</div>							
				</accordion-heading>
				<ul ng-repeat="link in links">
					<div  class="with-small-padding">
						<a class="with-margin-left" bo-href="link.url" target="_blank"  class="truncate-70 show-inline" bo-text="link.name"></a>
					</div>
				</ul>
			</accordion-group> -->
			<accordion-group class="accordion-group" ng-repeat="module in modules | orderBy: 'position'" is-open="$state.params.module_id == module.id">
				<accordion-heading class="accordion-heading">
					<div bindonce class="valign-middle" ng-click="showModuleCourseware(module, $event)" bo-title="module.name" ng-class="{'currentmodule selectedmodule': currentmodule.id == module.id}" style="padding: 5px;border-bottom: 1px solid white;">
						<div class="row" style="width: 100%;margin-left: auto;margin-right: auto;margin-top: 0;margin-bottom: 0;">
							<div class="small-1 no-padding columns no-padding-left" style="min-height: 1px;">
								<module-progress-check class="left" module="module" ng-if="(module.lectures.length + module.quizzes.length) > 0"></module-progress-check>		
							</div>
							<div class="small-9 columns no-padding">
								<i bo-hide="module.appearance_time | visible" style="margin-right:5px;float:left" class="fi-alert" tooltip="{{'invisible'|translate}} {{module.appearance_time| fromNow}}"></i>
								<div bo-class="{'truncate-90':!(module.appearance_time | visible), 'truncate':(module.appearance_time | visible)}" class=" module_name" bo-text="module.name"></div>
							</div>
							<div class="small-2 no-padding text-right columns">
								<small class="color-grey" bo-text="module.total_time | formattime:'h:mm:ss'"></small>
							</div>
						</div>
					</div>
					
				</accordion-heading>
				<ul>
					<li class="disable_selection size-13 text-right last-child item looks-like-a-link" style="padding: 2px; min-height: 24px;" bo-show="module.items" bo-title="item.name" ng-class="{currentitem: currentitem.id == item.id,'blink_btn':item.blink}" ng-repeat="item in module.items" ng-click="showItem(item, 'courseware')">
						<div ng-if="item.class_name != 'customlink'" class="position-relative" style="height: 20px;">
							<i class="no-padding fi-check color-green left with-tiny-margin-right ease_in_out" ng-class="{'no-opacity':!item.is_done}" ></i>
							<i bo-hide="item.appearance_time | visible" style="margin-right:5px;float:left" class="fi-alert" tooltip="{{'invisible'|translate}} {{item.appearance_time| fromNow}}"></i>
							<i bo-if="item.class_name == 'lecture'" class="fi-video with-tiny-margin-right left color-gray" bo-title="'groups.lecture' | translate"></i>
							<i bo-if="item.class_name == 'quiz' && item.quiz_type == 'quiz'" class="fi-clipboard-notes with-tiny-margin-right left color-gray" bo-title="'courses.quiz' | translate"></i>
							<i bo-if="item.class_name == 'quiz' && item.quiz_type == 'survey'" class="fi-clipboard-pencil with-tiny-margin-right left color-gray" bo-title="'courses.survey' | translate"></i>
							<div class="truncate-70 show-inline valign-middle left text-left" bo-text="item.name"></div>
							<div class="color-dark-grey" ng-show="item.duration" bo-text="item.duration | formattime:'h:mm:ss'"></div>
						</div>
						<a ng-if="item.class_name == 'customlink'" class="position-relative" style="height: 20px;" bo-href="item.url" target="_blank">
							<i class="no-padding fi-check color-green left with-tiny-margin-right no-opacity"></i>
							<i class="fi-link with-tiny-margin-right left color-gray" bo-title="'groups.customlink' | translate"></i>
							<div class="truncate-70 show-inline valign-middle left text-left" bo-text="item.name"></div>
						</a>
					</li>
				</ul>
				<!-- <ul>
					<li bo-show="module.custom_links" ng-repeat="link in module.custom_links|orderBy: 'group_position'" class="disable_selection size-13 text-right last-child item looks-like-a-link" style="padding: 2px; min-height: 24px;">
						<div class="position-relative" style="height: 20px;">
							<i class="no-padding fi-check color-green left with-tiny-margin-right no-opacity"></i>
							<i class="fi-link with-tiny-margin-right left color-gray" bo-title="'groups.customlink' | translate"></i>
							<div class="truncate-70 show-inline valign-middle left text-left" bo-text="item.name">
								<a class="dark-text" bo-href="link.url" target="_blank" bo-text="link.name"></a>
							</div>
							
						</div>
					</li>
				</ul> -->

			</accordion-group>
		</accordion>
	</div>
	<div ng-switch-when="editor" ng-class="{'content-navigator-bottom-container-height':('**.course_editor.**' | includedByState)}" context-menu data-target="content-menu" opened='menu_status'>
		<ul class="content-menu dropdown-menu text-left">
			<li><a ng-click="addModule()" >New Module</a></li>
			<!-- <li><a ng-click='share($event)'>New Content</a></li> -->
			<li ng-show="clipboard.type == 'module'">
				<div class="divider border-grey medium-opacity"></div>
				<a ng-click='paste($event)'>Paste</a>
			</li>
			
		</ul>
		<accordion class="accordion no-margin">
			<!-- <accordion-group class="accordion-group">
				<accordion-heading class="accordion-heading" >
				<div id="course_info" style="padding: 5px;border-bottom: 1px solid white;" ng-class="{currentmodule: ('**.edit_course_information.**' | includedByState)}" ng-click="goToCourseInfoTeacher()">
					<div class="show-inline" ng-class="{'with-bigger-margin-left': ('**.course_editor.**' | includedByState)}" translate>head.course_information</div>
				</div>						
				</accordion-heading>
			</accordion-group> -->
			<!-- <accordion-group ng-show="links.length" class="accordion-group links_accordion soft-border-bottom border-light-grey" open="links.length">
				<accordion-heading class="accordion-heading " >
					<div style="padding: 5px;border-bottom: 1px solid white;" ng-click="showCourseLinks()">
						<div class="show-inline" ng-class="{'with-bigger-margin-left': ('**.course_editor.**' | includedByState)}" translate>courses.course_links</div>
					</div>
				</accordion-heading>
				<span class="no-margin" ui-sortable="listSortableOptions" ng-model='links'>
            		<li class="links"  ng-repeat="link in links">
            			<link-item link="link" small="true">
            		</li>
            	</span>
			</accordion-group> -->
			<span ui-sortable="moduleSortableOptions" ng-model='modules'>
				<accordion-group ng-show="modules.length" class="module accordion-group" ng-repeat="module in modules" close="currentmodule.id != module.id" is-open="{{currentmodule.id == module.id}}">
					<accordion-heading class="accordion-heading">
						<module data="module" ng-class="{'currentmodule selectedmodule': currentmodule.id == module.id}" ng-click="showModule(module,$event)" >
						</module>
					</accordion-heading>
          			<span class="items" ui-sortable="itemSortableOptions" ng-model='module.items'>
	            		<li class="last-child item looks-like-a-link" ng-repeat="item in module.items" ng-class="{currentitem: currentitem.id == item.id}">
             				<item data="item" ng-click="showItem(item, 'course_editor')" />
             				<!-- <link-item ng-if="item.class_name=='customlink'" link="item" small="true" ng-click="showItem(item, 'course_editor')"/> -->
	            		</li>
	            	</span>
	            	<button ng-if="'**.course_editor.**' | includedByState" class="button tiny green-color-white" module-content-modal open-modal="openOnlineContentModal" ng-click="openOnlineContentModal()" style="margin: 8px 16px;"><span translate>add_content</span></button>
				</accordion-group>
			</span>
		</accordion>
		<i ng-show="!modules.length" class="muted"><br /><span style="padding-left:10px" translate>groups.empty</span>...</i>
	</div>		
	<center ng-switch-when="editor" ng-if="'**.course_editor.**' | includedByState" class="content-navigator-bottom-container">
		<button class="button small green no-margin left" ng-click="addModule()" translate>courses.add_module</button>
		<button class="button small orange no-margin right" ng-click="preview()" style="width: 40%;padding: 7px 20px;" translate>preview_student</button>
	</center>
</div>