<!-- build:css(.tmp/styles) styles/course_item.css -->
<link rel="stylesheet" href="styles/courseItem.css" />
<!-- endbuild -->
<div id="main_course_list">
  </br>
  <div ng-show="courses && courses.length">
    <div class="small-12 columns">
      <!-- Course selection/filter buttons -->
      <div class="small-12 medium-4 left columns button-group" step-text="You can filter the list of courses by selecting different filters." step-index="1" step-placement="bottom" step-append-to-body="false" page-name="{{current}}">
        <button type="button" class="left button tiny" ng-class="{active: course_filter == '!!'}" ng-click="filterCourse('!!')" translate>courses.list.all</button>
        <button type="button" class="left button tiny" ng-class="{active: course_filter == false}" ng-click="filterCourse(false)" translate>courses.list.current</button>
        <button type="button" class="left button tiny" ng-class="{active: course_filter == true}" ng-click="filterCourse(true)" translate>courses.list.all_finished</button>
      </div>
      <!-- Teacher or admins only -->
      <span ng-show="current_user.roles[0].id == 1 || current_user.roles[0].id == 5">
        <!-- Search input -->
        <div class="small-4 columns" ng-show="courses.length">
          <input type="search" ng-model="searchText" placeholder="{{'global.search' | translate}}" />
          <span ng-show="filtered_teacher">
            <br />
            <a ng-click="removeFilter()" style="cursor:pointer" translate>courses.list.button.back</a>
            <br>
          </span>
        </div>
        <div class="small-4 columns">
          <!-- Course order menu -->
          <a ng-show="courses.length" class="button tiny dropdown" dropdown-toggle="#sort_list"><span translate>courses.list.button.sort_by</span></a>
          <ul id="sort_list" class="f-dropdown">
            <li><a href="" ng-click="order('start_date')" translate>courses.start_date</a></li>
            <li><a href="" ng-click="order('short_name')" translate>courses.course_code</a></li>
            <li><a href="" ng-click="order('name')" translate>courses.course_name</a></li>
            <li><a href="" ng-click="order('enrollments')">#<span translate>global.students</span></a></li>
            <li><a href="" ng-click="order('lectures')">#<span translate>courses.list.lectures</span></a></li>
            <li><a href="" ng-click="order('quiz')">#<span translate>courses.list.quizzes</span></a></li>
            <li><a href="" ng-click="order('survey')">#<span translate>courses.list.surveys</span></a></li>
          </ul>
          <!-- Button for adding new course -->
          <a class="button tiny right green" ui-sref="new_course" translate>courses.list.button.new_course</a>
          <br />
        </div>
      </span>
    </div>
  </div>
  <div ng-if="current_user.roles[0].id == 1 || current_user.roles[0].id == 5">
    <div ng-show="courses && !courses.length">
      <center style="height:70px">
        <h5 class="muted" translate>courses.list.messages.no_courses</h5>
        <br>
        <a class="button tiny green" ui-sref="new_course" translate>courses.list.button.new_course</a>
      </center>
    </div>
    <br />
    <teacher-course-item ng-repeat="course in courses|filter:filtered_teacher|orderBy:column:is_reverse |filter:searchText|filter:{ended:course_filter}" course='course' teachers='course.teacher_enrollments' deletecourse="deleteCourse" filterteacher="filterTeacher" />
  </div>
  <div ng-if="current_user.roles[0].id == 2">
    <div ng-show="courses && !courses.length">
      <center style="height:70px">
        <h5 class="muted" translate>courses.list.messages.enroll_instruction</h5>
      </center>
    </div>
    <div ng-if="courses.length > 0" step-text="These are the courses you're enrolled in. Click the name of a course for access." step-index="2" step-placement="top" step-append-to-body="false" page-name="{{current}}">
      <course-item ng-repeat="course in courses | filter:{ended:course_filter}" course='course' teachers='course.teacher_enrollments' unenroll="unenrollCourse"></course-item>
    </div>
  </div>
</div>
